<form (ngSubmit)="onSubmit()" #publishForm="ngForm" class="publish-form">
  <div>
    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label" [class.is-dirty]="publishingItem.content.message">
      <input class="mdl-textfield__input" type="text" id="message" [(ngModel)]="publishingItem.content.message">
      <label class="mdl-textfield__label" for="message">Message</label>
    </div>
  </div>

  <div>
    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label" [class.is-dirty]="publishingItem.content.media.url">
      <input class="mdl-textfield__input" type="text" id="url" [(ngModel)]="publishingItem.content.media.url">
      <label class="mdl-textfield__label" for="url">Photo url</label>
    </div>
  </div>

  <div>
    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label" [class.is-dirty]="publishingItem.content.media.url">
      <input class="mdl-textfield__input" type="text" id="tags" [(ngModel)]="tags">
      <label class="mdl-textfield__label" for="tags">Tags</label>
    </div>
  </div>

  <div>
    <label *ngFor="let network of networks" class="network-radio-button mdl-radio mdl-js-radio mdl-js-ripple-effect"
      [class.is-checked]="publishingItem.content.network === network.id" [attr.for]="network.id">
      <!-- ngModel doesn't support radio buttons yet, so we have to use event and property bindings separately. -->
      <input type="radio" id="{{network.id}}" class="mdl-radio__button" name="options" value="{{network.id}}"
        (change)="publishingItem.content.network = $event.target.value"
        [checked]="publishingItem.content.network === network.id">
      <span class="mdl-radio__label">{{network.name}}</span>
    </label>
  </div>

  <div class="action-buttons">
    <button type="submit" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored"
      [disabled]="!publishForm.form.valid">
      {{isNewItem ? 'Create' : 'Update'}}
    </button>
    <button type="button" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect"
      (click)="navigateToPublishPage()">
      Cancel
    </button>
  </div>
</form>
